@inject HttpClient Http

<h3>Chatbot</h3>

<input @bind="userInput" placeholder="Ask something..." />
<button @onclick="SendMessage">Send</button>

<p>@botResponse</p>

@code {
    private string userInput;
    private string botResponse;

    private async Task SendMessage()
    {
        if (string.IsNullOrWhiteSpace(userInput))
        {
            botResponse = "Please enter a question.";
            return;
        }

        try
        {
            var apiUrl = $"https://localhost:7064/api/chatbot?question={Uri.EscapeDataString(userInput)}";

            var response = await Http.GetStringAsync(apiUrl);
            botResponse = response;
        }
        catch (Exception ex)
        {
            botResponse = "Error: Unable to connect to chatbot.";
            Console.WriteLine($"Fetch failed: {ex.Message}");
        }
    }


}
